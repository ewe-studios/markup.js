!function(){var e,t,n=(e=function(e,t){(function(e,n){(function(){var r=te.nextTick,i=(Function.prototype.apply,Array.prototype.slice),o={},s=0;function a(e,t){this._id=e,this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.setImmediate="function"==typeof e?e:function(e){var n=s++,a=!(arguments.length<2)&&i.call(arguments,1);return o[n]=!0,r(function(){o[n]&&(a?e.apply(null,a):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof n?n:function(e){delete o[e]}}).call(this)}).call(this,n({}).setImmediate,n({}).clearImmediate)},function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}),r={};Object.defineProperty(r,"__esModule",{value:!0}),r.isEqual=r.RandomID=r.truncateArray=r.createMap=r.has=r.Blank=r.ToKebabCase=void 0;const i=Object.prototype.hasOwnProperty;function o(){}r.ToKebabCase=function(e){const t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,e=>"-"+e.toLowerCase());return e[0]===e[0].toUpperCase()?t.substring(1):t},r.Blank=o,o.prototype=Object.create(null),r.has=function(e,t){return i.call(e,t)},r.createMap=function(){return new o},r.truncateArray=function(e,t){for(;e.length>t;)e.pop()},r.RandomID=function(){return Math.random().toString(36).substr(2,9)},r.isEqual=function(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r])return!1}return!0};var s,a={};Object.defineProperty(a,"__esModule",{value:!0}),a.Objects=void 0,(s=a.Objects||(a.Objects={})).PatchWith=function(e,t,n){e[t]=n},s.GetAttrWith=function(e,t){return e[t]||""},s.isNullOrUndefined=function(e){return null==e},s.isAny=function(e,...t){for(let n of t)if(e===n)return!0;return!1};var c={};function u(e){return 11===e.nodeType||9===e.nodeType}function l(e,t){const n=[];let r=e;for(;r!==t;){const e=r;n.push(e),r=e.parentNode}return n}Object.defineProperty(c,"__esModule",{value:!0}),c.getMatchingNode=c.toDataTransfer=c.toGamepad=c.toTouches=c.toMediaStream=c.toRotationData=c.toMotionData=c.toInputSourceCapability=c.fromFile=c.fromBlob=c.removeFromNode=c.createText=c.createElement=c.recordAttributes=c.getNamespaceForTag=c.applyAttributeTyped=c.applySVGStyles=c.applyStyles=c.applyStyle=c.applySVGStyle=c.setStyleValue=c.applyProp=c.applyAttrs=c.applyAttr=c.getNamespace=c.replaceNodeIf=c.replaceNode=c.insertBefore=c.moveBefore=c.getFocusedPath=c.getActiveElement=c.collectBreadthFirst=c.toHTML=c.eachNodeAndChild=c.nodeListToArray=c.eachChildAndNode=c.reverseApplyEachNode=c.applyEachNode=c.applyEachChildNode=c.applyChildNode=c.findBreadthFirst=c.collectDepthFirst=c.findDepthFirst=c.findNodeWithDepth=c.findNodeWithBreadth=c.collectNodeWithDepth=c.collectNodeWithBreadth=c.reverseFindNodeWithBreadth=c.reverseCollectNodeWithBreadth=c.getAncestry=c.isText=c.isElement=c.isDocumentRoot=c.COMMENT_NODE=c.TEXT_NODE=c.DOCUMENT_NODE=c.DOCUMENT_FRAGMENT_NODE=c.ELEMENT_NODE=void 0,c.ELEMENT_NODE=1,c.DOCUMENT_FRAGMENT_NODE=11,c.DOCUMENT_NODE=9,c.TEXT_NODE=3,c.COMMENT_NODE=8,r.createMap().style=E,c.isDocumentRoot=u,c.isElement=function(e){return 1===e.nodeType},c.isText=function(e){return 3===e.nodeType},c.getAncestry=l;const d=Node.prototype.getRootNode||function(){let e=this,t=e;for(;e;)t=e,e=e.parentNode;return t};function f(e,t,n){let r=e.firstChild;for(t(r)&&n.push(r);r;)t(r.nextSibling)&&n.push(r),r=r.nextSibling}function h(e,t,n){let r=e.firstChild;for(;r;)t(r)&&n.push(r),r=r.firstChild}function p(e,t){let n=e.firstChild;for(;n;){if(t(n))return n;n=n.nextSibling}return null}function m(e,t){let n=e.firstChild;for(;n;){if(t(n))return n;n=n.firstChild}return null}function y(e){const t=d.call(e);return u(t)?t.activeElement:null}function b(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0}function v(e,t,n){if(null==n)e.removeAttribute(t);else{const r=b(t);r?e.setAttributeNS(r,t,String(n)):e.setAttribute(t,String(n))}}function N(e,t){for(let n in t)null!=t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)}function g(e,t,n){e[t]=n}function O(e,t,n){t.indexOf("-")>=0?e.setProperty(t,n):e[t]=n}function E(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";const t=e.style;for(const e in n)r.has(n,e)&&O(t,e,n[e])}}function T(e){if(null==e)return;let t=null;const n=new FileReader;return n.onloadend=function(){t=new Uint8Array(n.result)},n.readAsArrayBuffer(e),t}c.reverseCollectNodeWithBreadth=function(e,t,n){let r=e.lastChild;for(;r;)t(r)&&n.push(r),r=r.previousSibling},c.reverseFindNodeWithBreadth=function(e,t){let n=e.lastChild;for(;n;){if(t(n))return n;n=n.previousSibling}return null},c.collectNodeWithBreadth=f,c.collectNodeWithDepth=h,c.findNodeWithBreadth=p,c.findNodeWithDepth=m,c.findDepthFirst=function(e,t){let n=e.firstChild;for(;n;){const e=m(n,t);if(e)return e;n=n.nextSibling}return null},c.collectDepthFirst=function(e,t,n){let r=e.firstChild;for(;r;)h(r,t,n),r=r.nextSibling},c.findBreadthFirst=function(e,t){let n=e.firstChild;for(;n;){const e=p(n,t);if(e)return e;n=n.firstChild}return null},c.applyChildNode=function(e,t){let n=e.firstChild;for(;n;)t(n),n=n.nextSibling},c.applyEachChildNode=function e(t,n){let r=t.firstChild;for(;r;)n(r),e(r,n),r=r.nextSibling},c.applyEachNode=function e(t,n){n(t);let r=t.firstChild;for(;r;)e(r,n),r=r.nextSibling},c.reverseApplyEachNode=function e(t,n){let r=t.lastChild;for(;r;)e(r,n),n(r),r=r.previousSibling;n(t)},c.eachChildAndNode=function(e,t){const n=e.childNodes;for(let r=0;r<n.length;r++)t(n[r]);t(e)},c.nodeListToArray=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t},c.eachNodeAndChild=function(e,t){t(e);const n=e.childNodes;for(let r=0;r<n.length;r++)t(n[r])},c.toHTML=function(e,t){const n=document.createElement("div");return n.appendChild(e.cloneNode(!t)),n.innerHTML},c.collectBreadthFirst=function(e,t,n){let r=e.firstChild;for(;r;)f(r,t,n),r=r.firstChild},c.getActiveElement=y,c.getFocusedPath=function(e,t){const n=y(e);return n&&e.contains(n)?l(n,t):[]},c.moveBefore=function(e,t,n){const r=t.nextSibling;let i=n;for(;null!==i&&i!==t;){const t=i.nextSibling;e.insertBefore(i,r),i=t}},c.insertBefore=function(e,t,n){return null===n?(e.appendChild(t),null):(e.insertBefore(t,n),null)},c.replaceNode=function(e,t,n){return null===n?null:(e.replaceChild(n,t),null)},c.replaceNodeIf=function(e,t){if(null===t)return!1;const n=e.parentNode;return!!n&&(n.replaceChild(t,e),!0)},c.getNamespace=b,c.applyAttr=v,c.applyAttrs=N,c.applyProp=g,c.setStyleValue=O,c.applySVGStyle=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";const t=e.style;for(const e in n)r.has(n,e)&&O(t,e,n[e])}},c.applyStyle=E,c.applyStyles=function(e,t){if("string"==typeof t)e.style.cssText=t;else{e.style.cssText="";const n=e.style;for(const e in t)r.has(t,e)&&O(n,e,t[e])}},c.applySVGStyles=function(e,t){if("string"==typeof t)e.style.cssText=t;else{e.style.cssText="";const n=e.style;for(const e in t)r.has(t,e)&&O(n,e,t[e])}},c.applyAttributeTyped=function(e,t,n){const r=typeof n;"object"===r||"function"===r?g(e,t,n):v(e,t,n)},c.getNamespaceForTag=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/Math/MathML":null==t?null:t.namespaceURI},c.recordAttributes=function(e){const t={},n=e.attributes,r=n.length;if(!r)return t;for(let i=0,o=0;i<r;i+=1,o+=2){const e=n[i];t[e.name]=e.value}return t},c.createElement=function(e,t,n,r,i,o){let s;if("function"==typeof t)return new t;if((o=o.trim()).length>0)switch(t){case"svg":s=e.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":s=e.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:s=e.createElementNS(o,t)}else s=e.createElement(t);return s.setAttribute("_key",n),i&&N(s,i),r.length>0&&(s.innerHTML=r),s},c.createText=function(e,t,n){const r=e.createTextNode(t);return a.Objects.PatchWith(r,"key",n),r},c.removeFromNode=function(e,t){const n=e.parentNode;let r=e;for(;r!==t;){const e=r.nextSibling;n.removeChild(r),r=e}},c.fromBlob=function(e){if(null==e)return;let t=null;const n=new FileReader;return n.onloadend=function(){t=new Uint8Array(n.result)},n.readAsArrayBuffer(e),t},c.fromFile=T,c.toInputSourceCapability=function(e){if(null!=e)return{FiresTouchEvent:e.firesTouchEvent}},c.toMotionData=function(e){let t={X:0,Y:0,Z:0};return null==e?t:(t.X=e.x,t.Y=e.y,t.Z=e.z,t)},c.toRotationData=function(e){if(null==e)return;const t={};return t.Alpha=e.alpha,t.Beta=e.beta,t.Gamma=e.gamma,t},c.toMediaStream=function(e){if(null==e)return;const t={Audios:[],Videos:[]};t.Active=e.active,t.Ended=e.ended,t.ID=e.id,t.Audios=[],t.Videos=[];let n=e.getAudioTracks();if(null!=n)for(let i=0;i<n.length;i++){let e=n[i],r=e.getSettings();t.Audios.push({Enabled:e.enabled,ID:e.id,Kind:e.kind,Label:e.label,Muted:e.muted,ReadyState:e.readyState,Remote:e.remote,AudioSettings:{ChannelCount:r.channelCount.Int(),EchoCancellation:r.echoCancellation,Latency:r.latency,SampleRate:r.sampleRate.Int64(),SampleSize:r.sampleSize.Int64(),Volume:r.volume,MediaTrackSettings:{DeviceID:r.deviceId,GroupID:r.groupId}}})}let r=e.getVideoTracks();if(null!=r)for(let i=0;i<r.length;i++){let e=r[i],n=e.getSettings();t.Videos.push({Enabled:e.enabled,ID:e.id,Kind:e.kind,Label:e.label,Muted:e.muted,ReadyState:e.readyState,Remote:e.remote,VideoSettings:{AspectRatio:n.aspectRation,FrameRate:n.frameRate,Height:n.height.Int64(),Width:n.width.Int64(),FacingMode:n.facingMode,MediaTrackSettings:{DeviceID:n.deviceId,GroupID:n.groupId}}})}return t},c.toTouches=function(e){if(null==e)return;const t=[];for(let n=0;n<e.length;n++){let r=e.item(n);t.push({ClientX:r.clientX,ClientY:r.clientY,OffsetX:r.offsetX,OffsetY:r.offsetY,PageX:r.pageX,PageY:r.pageY,ScreenX:r.screenX,ScreenY:r.screenY,Identifier:r.identifier})}return t},c.toGamepad=function(e){let t={};if(null==e)return t;t.DisplayID=e.displayId,t.ID=e.id,t.Index=e.index.Int(),t.Mapping=e.mapping,t.Connected=e.connected,t.Timestamp=e.timestamp,t.Axes=[],t.Buttons=[];let n=e.axes;if(null!=n)for(let i=0;i<n.length;i++)t.Axes.push(n[i]);let r=e.buttons;if(null!=r)for(let i=0;i<r.length;i++){const e=r[i];t.Buttons.push({Value:e.value,Pressed:e.pressed})}return t},c.toDataTransfer=function(e){if(null==e)return;let t={};t.DropEffect=e.dropEffect,t.EffectAllowed=e.effectAllowed,t.Types=e.types,t.Items=[];const n=e.items;if(null!=n)for(let i=0;i<n.length;i++){const e=n.DataTransferItem(i);t.Items.push({Name:e.name,Size:e.size.Int(),Data:T(e)})}t.Files=[];const r=e.files;if(null!=r)for(let i=0;i<r.length;i++){const e=r[i];dFiles.push({Name:e.name,Size:e.size.Int(),Data:T(e)})}return t},c.getMatchingNode=function(e,t){if(!e)return null;if(t(e))return e;for(;e=e.nextSibling;)if(t(e))return e;return null};var _={};function w(e,t,n){const i={children:[],events:[],attrs:[],namespace:""};i.type=e.nodeType,i.name=e.nodeName.toLowerCase(),i.id=a.Objects.GetAttrWith(e,"_id"),i.tid=a.Objects.GetAttrWith(e,"_tid"),i.ref=a.Objects.GetAttrWith(e,"_ref"),i.atid=a.Objects.GetAttrWith(e,"_atid");const o=e;if(null===o)return i;switch(e._tid&&(i.tid=e._tid),e.nodeType){case c.TEXT_NODE:return i.typeName="Text",i.content=e.textContent,i;case c.COMMENT_NODE:return i.typeName="Comment",i.content=e.textContent,i;case c.ELEMENT_NODE:i.typeName="Element",i.children=new Array;break;default:throw new Error(`unable to handle node type ${e.nodeType}`)}if(a.Objects.isNullOrUndefined(o))return""===i.id&&(i.id=r.RandomID()),i;o.hasAttribute("id")?i.id=o.getAttribute("id"):i.id=r.RandomID(),""!==i.ref||a.Objects.isNullOrUndefined(n)||(i.ref=i.id),o.hasAttribute("_ref")?i.ref=o.getAttribute("_ref"):a.Objects.isNullOrUndefined(n)||(""!==n.ref?i.ref=n.ref+"/"+i.id:i.ref=n.id+"/"+i.id),o.hasAttribute("_tid")&&(i.tid=o.getAttribute("_tid")),o.hasAttribute("_atid")&&(i.atid=o.getAttribute("_atid"));for(var s=0;s<o.attributes.length;s++){let e=o.attributes.item(s);if(null==e)continue;if(!e.name.startsWith("event-"))continue;let t=e.name.replace("event-","");i.events.push(A(t,e.value.split("|")))}return t||c.applyChildNode(e,function(e){if(e instanceof Text||e instanceof Comment)return void i.children.push(w(e,!1,i));const t=e;t.hasAttribute("id")||(t.id=r.RandomID()),i.children.push(w(t,!1,i))}),i}function A(e,t){const n={};return n.Name=e,n.Targets=t,n}function D(e,t){t(e),e.children.forEach(function(e){D(e,t)})}function S(e,t){const n=e.name+"#"+e.id,r=t.querySelectorAll(n);if(0===r.length){let n=e.name+`[_tid='${e.tid}']`,r=t.querySelector(n);return r||(n=e.name+`[_atid='${e.atid}']`,(r=t.querySelector(n))?r:(n=e.name+`[_ref='${e.ref}']`,t.querySelector(n)))}if(1===r.length)return r[0];const i=r.length;for(let o=0;o<i;o++){const t=r.item(o);if(t.getAttribute("_tid")===e.tid)return t;if(t.getAttribute("_atid")===e.atid)return t;if(t.getAttribute("_ref")===e.ref)return t}return null}function M(e,t){const n=e.split("/").map(function(e){return""===e.trim()?"":"#"+e});if(0===n.length)return null;""!==n[0]&&""!==n[0].trim()||n.shift(),n.pop();const r=n[0];t.id==r.substr(1)&&n.shift();let i=t.querySelector(n.shift());for(;i;){if(0===n.length)return i;i=i.querySelector(n.shift())}return i}function x(e,t,n,i){if(t.type===c.COMMENT_NODE){const n=e.createComment(t.content);return a.Objects.PatchWith(n,"_id",t.id),a.Objects.PatchWith(n,"_ref",t.ref),a.Objects.PatchWith(n,"_tid",t.tid),a.Objects.PatchWith(n,"_atid",t.atid),n}if(t.type===c.TEXT_NODE){const n=e.createTextNode(t.content);return a.Objects.PatchWith(n,"_id",t.id),a.Objects.PatchWith(n,"_ref",t.ref),a.Objects.PatchWith(n,"_tid",t.tid),a.Objects.PatchWith(n,"_atid",t.atid),n}let o;return""===t.id&&(t.id=r.RandomID()),o=0!==t.namespace.length?e.createElement(t.name):e.createElementNS(t.namespace,t.name),a.Objects.PatchWith(o,"_id",t.id),a.Objects.PatchWith(o,"_ref",t.ref),a.Objects.PatchWith(o,"_tid",t.tid),a.Objects.PatchWith(o,"_atid",t.atid),o.setAttribute("id",t.id),o.setAttribute("_tid",t.tid),o.setAttribute("_ref",t.ref),o.setAttribute("_atid",t.atid),t.events.forEach(function(e){o.setAttribute("event-"+e.Name,e.Targets.join("|"))}),t.attrs.forEach(function(e){o.setAttribute(e.Key,e.Value)}),t.removed?(o.setAttribute("_removed","true"),o):(n||t.children.forEach(function(t){i&&t.removed||o.appendChild(x(e,t,n,i))}),o)}function C(e,t,n,r){if(!n.Same(t,e)){const n=r.Make(document,e,!1,!0);return void c.replaceNode(t.parentNode,t,n)}if(!n.Changed(t,e))return;j(e,t);const i=c.nodeListToArray(t.childNodes),o=i.length,s=e.children.length;let a=0;for(;a<o;a++){const t=i[a];if(a>=s){const e=t;e&&e.remove()}else C(e.children[a],t,n,r)}for(;a<s;a++){const n=r.Make(document,e,!1,!0);t.appendChild(n)}}function P(e,t,n,r){if(!n.Same(t,e)){const n=r.Make(document,e,!1,!0);return void c.replaceNode(t.parentNode,t,n)}n.Changed(t,e)&&j(e,t);const i=t.childNodes.length,o=e.children.length;let s=0;for(;s<i;s++){const i=t.childNodes[s];if(s>=o)return;C(e.children[s],i,n,r)}for(;s<o;s++){const n=r.Make(document,e,!1,!0);t.appendChild(n)}}function j(e,t){const n=c.recordAttributes(t);e.attrs.forEach(function(e){const r=n[e.Key];if(delete n[e.Key],e.Value===r)return null;t.setAttribute(e.Key,e.Value)});for(let r in n)t.removeAttribute(r);t.setAttribute("_tid",e.tid),t.setAttribute("_ref",e.ref),t.setAttribute("_atid",e.atid),e.events.forEach(function(e){t.setAttribute("event-"+e.Name,e.Targets.join("|"))}),a.Objects.PatchWith(t,"_id",e.id),a.Objects.PatchWith(t,"_ref",e.ref),a.Objects.PatchWith(t,"_tid",e.tid),a.Objects.PatchWith(t,"_atid",e.atid)}function F(e,t){const n=c.recordAttributes(t);for(let r in e.attributes){const i=e.attributes[r],o=n[i.name];delete n[i.name],i.value!==o&&t.setAttribute(i.name,i.value)}for(let r in n)t.removeAttribute(r)}Object.defineProperty(_,"__esModule",{value:!0}),_.PatchDOMAttributes=_.PatchDOMTree=_.PatchJSONAttributes=_.PatchTextCommentWithJSON=_.ApplyStreamNode=_.StreamJSONNodes=_.PatchJSONNode=_.PatchJSONNodeTree=_.jsonMaker=_.DefaultJSONMaker=_.findElementParentbyRef=_.findElementbyRef=_.findElement=_.isJSONNode=_.applyJSONNodeKidsFunction=_.applyJSONNodeFunction=_.JSONEvent=_.NodeToJSONNode=_.ToJSONNode=_.DefaultJSONDictator=_.DefaultNodeDictator=void 0,_.DefaultNodeDictator={Same:(e,t)=>{if(e.nodeType!==t.nodeType||e.nodeName!==t.nodeName)return!1;if(e.nodeType!==c.ELEMENT_NODE)return!0;const n=t;return e.id===n.id},Changed:(e,t)=>{if(e.nodeType===c.TEXT_NODE&&t.nodeType===c.TEXT_NODE)return e.textContent===t.textContent;if(e.nodeType===c.COMMENT_NODE&&t.nodeType===c.COMMENT_NODE)return e.textContent===t.textContent;const n=e,r=t,i=c.recordAttributes(n),o=c.recordAttributes(r);if(!i.hasOwnProperty("_tid")&&o.hasOwnProperty("_tid"))return!0;if(i.hasOwnProperty("_atid"))return!(o._atid===i._tid&&o._tid===o._atid);delete o._atid,delete i._atid,delete o._tid,delete i._tid;for(let s in o){if(!i.hasOwnProperty(s))return!0;if(o[s]!==i[s])return!0}return n.innerHTML!==r.innerHTML}},_.DefaultJSONDictator={Same:(e,t)=>e.nodeType===t.type&&e.nodeName===t.name&&(e.nodeType!==c.ELEMENT_NODE||e.id===t.id),Changed:(e,t)=>{if(e.nodeType===c.TEXT_NODE&&t.type===c.TEXT_NODE)return e.textContent!==t.content;if(e.nodeType===c.COMMENT_NODE&&t.type===c.COMMENT_NODE)return e.textContent!==t.content;const n=e;if(n.hasAttribute("id")&&n.getAttribute("id")!==t.id)return!0;if(n.hasAttribute("_ref")&&n.getAttribute("_ref")!==t.ref)return!0;const r=n.getAttribute("_tid"),i=n.getAttribute("_atid");if(n.hasAttribute("_tid")){if(r!==t.tid)return!0;if(n.hasAttribute("_atid")){if(r!==t.tid&&i!==t.atid)return!0;if(r!==t.tid&&i===t.atid)return!0}}if(!n.hasAttribute("events")&&0!==t.events.length)return!0;for(var o=0;o<t.events.length;o++){let e=t.events[o],r="event-"+e.Name,i=e.Targets.join("|"),s=n.attributes.getNamedItem(r);if(null==s)return!0;if(s.value!=i)return!0}return!0}},_.ToJSONNode=function(e,t,n){const r=new Array;if("string"==typeof e){const i=document.createElement("div");return i.innerHTML=e.trim(),c.applyChildNode(i,function(e){r.push(w(e,t,n))}),r}return r.push(w(e,t,n)),r},_.NodeToJSONNode=w,_.JSONEvent=A,_.applyJSONNodeFunction=D,_.applyJSONNodeKidsFunction=function(e,t){e.children.forEach(function(e){D(e,t)}),t(e)},_.isJSONNode=function(e){const t=void 0!==e.id,n=void 0!==e.ref,r=void 0!==e.tid,i=void 0!==e.typeName;return t&&n&&i&&r},_.findElement=S,_.findElementbyRef=function(e,t){const n=e.split("/").map(function(e){return""===e.trim()?"":"#"+e});if(0===n.length)return null;""!==n[0]&&""!==n[0].trim()||n.shift();const r=n[0];t.id==r.substr(1)&&n.shift();let i=t.querySelector(n.shift());for(;i;){if(0===n.length)return i;i=i.querySelector(n.shift())}return i},_.findElementParentbyRef=M,_.DefaultJSONMaker={Make:x},_.jsonMaker=x,_.PatchJSONNodeTree=function(e,t,n,r){let i=S(e,t);if(a.Objects.isNullOrUndefined(i)){const n=r.Make(document,e,!1,!0);t.appendChild(n)}else C(e,i,n,r)},_.PatchJSONNode=C,_.StreamJSONNodes=function(e,t,n,r){const i=e.filter(function(e){return!e.removed});e.filter(function(e){if(!e.removed)return!1;let t=!0;return i.forEach(function(n){e.tid!==n.tid&&e.tid!=n.atid&&e.ref!==n.ref||(t=!1)}),t}).forEach(function(e){const n=S(e,t);n&&n.remove()}),i.forEach(function(e){const i=S(e,t);if(a.Objects.isNullOrUndefined(i)){const n=M(e.ref,t);if(a.Objects.isNullOrUndefined(n))return void console.log("Unable to apply new change stream: ",e);const i=r.Make(document,e,!1,!0);n.appendChild(i)}else P(e,i,n,r)})},_.ApplyStreamNode=P,_.PatchTextCommentWithJSON=function(e,t){e.type!==c.COMMENT_NODE&&e.type!==c.TEXT_NODE||e.type!==c.COMMENT_NODE&&e.type!==c.TEXT_NODE||t.textContent!==e.content&&(t.textContent=e.content,a.Objects.PatchWith(t,"_ref",e.ref),a.Objects.PatchWith(t,"_tid",e.tid),a.Objects.PatchWith(t,"_atid",e.atid))},_.PatchJSONAttributes=j,_.PatchDOMTree=function e(t,n,r,i){if(i){const e=n.parentNode;if(!r.Same(n,t))return c.replaceNode(e,n,t),null;if(!n.hasChildNodes())return c.replaceNode(e,n,t),null}const o=c.nodeListToArray(t.childNodes),s=c.nodeListToArray(n.childNodes),u=s.length,l=o.length,d=l<u;let f,h,p=0,m=null;for(;p<u&&!(p>=l);p++){if(f=s[p],h=o[p],m=f.nextSibling,(f.nodeType===c.TEXT_NODE||f.nodeType===c.COMMENT_NODE)&&h.nodeType===f.nodeType){f.textContent!==h.textContent&&(f.textContent=h.textContent);continue}if(!r.Same(f,h)){c.replaceNode(n,f,h);continue}if(!r.Changed(f,h))continue;if(f.nodeType!==h.nodeType){c.replaceNode(n,f,h);continue}if(!f.hasChildNodes()&&h.hasChildNodes()){c.replaceNode(n,f,h);continue}if(f.hasChildNodes()&&!h.hasChildNodes()){c.replaceNode(n,f,h);continue}const t=f,i=h;F(i,t),t.setAttribute("_patched","true"),e(i,t,r,!0),t.removeAttribute("_patched")}if(d&&null!==m)return c.removeFromNode(m,null),null;for(;p<l;p++){let e=o[p];a.Objects.isNullOrUndefined(e)||n.appendChild(e)}},_.PatchDOMAttributes=F;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.DOMMount=void 0;class I{constructor(e,t,n){if("object"!=typeof e)throw new Error("document should be an object");if(this.doc=e,this.notifier=n,this.events={},this.handler=this.handleEvent.bind(this),"string"==typeof t){const e=t,n=this.doc.querySelector(e);if(null==n)throw new Error(`unable to locate node for ${{targetSelector:e}}`);this.mountNode=n}else this.mountNode=t}handleEvent(e){if(!this.events[e.type])return;e.stopPropagation();const t=e.target;if(t.nodeType!==c.ELEMENT_NODE)return;const n=t,i="event-"+r.ToKebabCase(e.type);if(!n.hasAttribute(i))return;const o=n.getAttribute(i);null!=o&&this.notifier&&"function"==typeof this.notifier&&this.notifier(e,o.split("|"),n)}patch(e){this.patchWith(e,_.DefaultNodeDictator,_.DefaultJSONDictator,_.DefaultJSONMaker)}patchWith(e,t,n,r){if(e instanceof DocumentFragment){const n=e;return this.registerNodeEvents(n),void _.PatchDOMTree(n,this.mountNode,t,!1)}if("string"==typeof e){const n=document.createElement("div");return n.innerHTML=e.trim(),this.registerNodeEvents(n),void _.PatchDOMTree(n,this.mountNode,t,!1)}if(!_.isJSONNode(e))return;const i=e;this.registerJSONNodeEvents(i),_.PatchJSONNodeTree(i,this.mountNode,n,r)}patchList(e){e.forEach(this.patch.bind(this))}stream(e){const t=JSON.parse(e);return this.streamList(t)}streamList(e){this.streamListWith(e,_.DefaultJSONDictator,_.DefaultJSONMaker)}streamListWith(e,t,n){e.forEach(this.registerJSONNodeEvents.bind(this)),_.StreamJSONNodes(e,this.mountNode,_.DefaultJSONDictator,_.DefaultJSONMaker)}registerNodeEvents(e){const t=this;c.applyEachNode(e,function(n){if(n.nodeType!==c.ELEMENT_NODE)return;const r=n.getAttribute("events");r&&r.split(" ").forEach(function(n){const r=n.substr(0,n.length-3);switch(t.registerEvent(r),n.substr(n.length-2,n.length)){case"01":break;case"10":case"11":e.addEventListener(r,I.preventDefault,!1)}})})}registerJSONNodeEvents(e){const t=this;_.applyJSONNodeFunction(e,function(e){e.removed?e.events.forEach(function(e){t.unregisterEvent(e.Name)}):e.events.forEach(function(e){t.registerEvent(e.Name)})})}textContent(){return this.mountNode.textContent}innerHTML(){return this.mountNode.innerHTML.trim()}Html(){return c.toHTML(this.mountNode,!1)}registerEvent(e){this.events[e]||(this.mountNode.addEventListener(e,this.handler,!0),this.events[e]=!0)}unregisterEvent(e){this.events[e]&&(this.mountNode.removeEventListener(e,this.handler,!0),this.events[e]=!1)}static preventDefault(e){e.preventDefault()}static stopPropagation(e){e.stopPropagation()}}B.DOMMount=I;var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.mountTo=void 0;const k=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),a),_),c),B);R.mountTo=function(e){e.markup=k},R.default=k;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.GetRAF=void 0;const W=self.hasOwnProperty("performance")&&((performance.now?performance.now.bind(performance):null)||(performance.mozNow?performance.mozNow.bind(performance):null)||(performance.msNow?performance.msNow.bind(performance):null)||(performance.oNow?performance.oNow.bind(performance):null)||(performance.webkitNow?performance.webkitNow.bind(performance):null))||Date.now.bind(Date),q=["ms","moz","webkit","o"];L.GetRAF=function(){let e=0;const n={};for(var r=0;r<q.length&&!window.requestAnimationFrame;++r)n.requestAnimationFrame=window[q[r]+"RequestAnimationFrame"],n.cancelAnimationFrame=window[q[r]+"CancelAnimationFrame"]||window[q[r]+"RequestCancelAnimationFrame"];return n.requestAnimationFrame&&n.cancelAnimationFrame||(n.requestAnimationFrame=function(n,r){const i=W(),o=Math.max(0,1e3/60-(i-e)),s=self.setTimeout(function(){try{n(i+o)}catch(t){console.log("Error: ",t),setTimeout(function(){throw t},0)}},o);return e=i+o,s}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(e){clearTimeout(e)}),n};var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.AFrame=U.AnimationQueue=void 0,U.AnimationQueue=class{constructor(){this.skip=!1,this.binded=!1,this.requestAnimationID=-1,this.frames=new Array,this.bindCycle=this.cycle.bind(this),this.rafProvider=L.GetRAF()}new(){const e=new J(this.frames.length,this);return this.frames.push(e),this.bind(),e}add(e){e.queueIndex=this.frames.length,e.queue=this,this.frames.push(e),this.bind()}resume(){this.skip=!1,this.bind()}pause(){this.skip=!0}unbind(){if(!this.binded)return null;this.rafProvider.cancelAnimationFrame(this.requestAnimationID)}bind(){if(this.binded)return null;this.requestAnimationID=this.rafProvider.requestAnimationFrame(this.bindCycle,null),this.binded=!0}cycle(e){0!==this.frames.length?(this.frames.forEach(function(t){t.paused()||t.animate(e)}),this.bind()):this.binded=!1}};class J{constructor(e,t){this.skip=!1,this.queue=t,this.queueIndex=e,this.callbacks=new Array}add(e){this.callbacks.push(e)}clear(){this.callbacks.length=0}paused(){return this.skip}pause(){this.skip=!0}stop(){if(this.pause(),-1===this.queueIndex)return null;if(0==this.queue.frames.length)return this.queue=void 0,this.queueIndex=-1,null;const e=this.queue.frames.length;if(1==e)return this.queue.frames.pop(),this.queue=void 0,this.queueIndex=-1,null;this.queue.frames[this.queueIndex]=this.queue.frames[e-1],this.queue.frames.length=e-1,this.queue=void 0,this.queueIndex=-1}animate(e){for(let t in this.callbacks)(0,this.callbacks[t])(e)}}U.AFrame=J;var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.mountTo=void 0;const G=Object.assign(Object.assign({},L),U);H.mountTo=function(e){e.animations=G},H.default=G;var X,V={exports:{}};X=function(e){"use strict";var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function f(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(f)}),this.text=function(){var e,t,n,r=l(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=a(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},p.call(y.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var N=[301,302,303,307,308];v.redirect=function(e,t){if(-1===N.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(O){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function g(i,o){return new Promise(function(s,c){var l=new y(i,o);if(l.signal&&l.signal.aborted)return c(new e.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}d.onload=function(){var e,t,n={status:d.status,statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in d?d.responseURL:n.headers.get("X-Request-URL");var r="response"in d?d.response:d.responseText;setTimeout(function(){s(new v(r,n))},0)},d.onerror=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){c(new TypeError("Network request failed"))},0)},d.onabort=function(){setTimeout(function(){c(new e.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(r.blob?d.responseType="blob":r.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(d.responseType="arraybuffer")),!o||"object"!=typeof o.headers||o.headers instanceof u?l.headers.forEach(function(e,t){d.setRequestHeader(t,e)}):Object.getOwnPropertyNames(o.headers).forEach(function(e){d.setRequestHeader(e,a(o.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}g.polyfill=!0,n.fetch||(n.fetch=g,n.Headers=u,n.Request=y,n.Response=v),e.Headers=u,e.Request=y,e.Response=v,e.fetch=g,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof V.exports?X(V.exports):"function"==typeof define&&define.amd?define(["exports"],X):X(this.WHATWGFetch={}),V=V.exports;var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.DOMException=z.Response=z.Request=z.Headers=z.fetch=void 0,self.fetch||(self.fetch=z.fetch.fetch,self.Headers=z.fetch.Headers,self.Request=z.fetch.Request,self.Response=z.fetch.Response,self.DOMException=z.fetch.DOMException),z.fetch=self.fetch,z.Headers=self.Headers,z.Request=self.Request,z.Response=self.Response,z.DOMException=self.DOMException;var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.default={};var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.Socket=Y.OneMinute=Y.OneSecond=void 0,Y.OneSecond=1e3,Y.OneMinute=60*Y.OneSecond,Y.Socket=class{constructor(e,t,n,r,i){this.addr=e,this.socket=null,this.reader=t,this.maxWait=i,this.userClosed=!1,this.exponent=n,this.disconnected=!1,this.attemptedConnects=0,this.lastWait=Y.OneSecond,this.maxReconnect=r,this.writeBuffer=new Array}connect(){if(this.socket)return;if(this.attemptedConnects>=this.maxReconnect)return void this.reader.Exhausted(this);const e=new WebSocket(this.addr);e.addEventListener("open",this._opened.bind(this)),e.addEventListener("error",this._errored.bind(this)),e.addEventListener("message",this._messaged.bind(this)),e.addEventListener("close",this._disconnected.bind(this)),this.socket=e,this.disconnected=!1}send(e){this.disconnected?this.writeBuffer.push(e):this.socket.send(e)}reset(){this.attemptedConnects=0,this.lastWait=Y.OneSecond}end(){this.userClosed=!0,this.reader.Closed(this),this.socket.close(),this.socket=null}_disconnected(e){if(this.reader.Disconnected(e,this),this.disconnected=!0,this.socket=null,this.userClosed)return;let t=this.lastWait;this.exponent&&(t=this.exponent(t))>this.maxWait&&(t=this.maxWait),setTimeout(this.connect.bind(this),t),this.attemptedConnects++}_opened(e){for(this.reader.Connected(e,this);this.writeBuffer.length>0;){const e=this.writeBuffer.shift();this.socket.send(e)}}_errored(e){this.reader.Errored(e,this)}_messaged(e){this.reader.Message(e,this)}};var $={};Object.defineProperty($,"__esModule",{value:!0}),$.mountTo=void 0;const Z=Object.assign(Object.assign(Object.assign({},z),K),Y);$.mountTo=function(e){e.http=Z},$.default=Z;var Q,ee,te={},ne=te={};function re(){throw new Error("setTimeout has not been defined")}function ie(){throw new Error("clearTimeout has not been defined")}function oe(e){if(Q===setTimeout)return setTimeout(e,0);if((Q===re||!Q)&&setTimeout)return Q=setTimeout,setTimeout(e,0);try{return Q(e,0)}catch(t){try{return Q.call(null,e,0)}catch(t){return Q.call(this,e,0)}}}!function(){try{Q="function"==typeof setTimeout?setTimeout:re}catch(t){Q=re}try{ee="function"==typeof clearTimeout?clearTimeout:ie}catch(t){ee=ie}}();var se,ae=[],ce=!1,ue=-1;function le(){ce&&se&&(ce=!1,se.length?ae=se.concat(ae):ue=-1,ae.length&&de())}function de(){if(!ce){var e=oe(le);ce=!0;for(var n=ae.length;n;){for(se=ae,ae=[];++ue<n;)se&&se[ue].run();ue=-1,n=ae.length}se=null,ce=!1,function(e){if(ee===clearTimeout)return clearTimeout(e);if((ee===ie||!ee)&&clearTimeout)return ee=clearTimeout,clearTimeout(e);try{ee(e)}catch(t){try{return ee.call(null,e)}catch(t){return ee.call(this,e)}}}(e)}}function fe(e,t){this.fun=e,this.array=t}function he(){}ne.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ae.push(new fe(e,t)),1!==ae.length||ce||oe(de)},fe.prototype.run=function(){this.fun.apply(null,this.array)},ne.title="browser",ne.browser=!0,ne.env={},ne.argv=[],ne.version="",ne.versions={},ne.on=he,ne.addListener=he,ne.once=he,ne.off=he,ne.removeListener=he,ne.removeAllListeners=he,ne.emit=he,ne.prependListener=he,ne.prependOnceListener=he,ne.listeners=function(e){return[]},ne.binding=function(e){throw new Error("process.binding is not supported")},ne.cwd=function(){return"/"},ne.chdir=function(e){throw new Error("process.chdir is not supported")},ne.umask=function(){return 0};var pe={};(function(e){(function(){"use strict";var n=setTimeout;function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var r=1===e._state?n.onFulfilled:n.onRejected;if(null!==r){var i;try{i=r(e._value)}catch(t){return void a(n.promise,t)}s(n.promise,i)}else(1===e._state?s:a)(n.promise,e._value)})):e._deferreds.push(n)}function s(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if(n instanceof i)return e._state=3,e._value=n,void c(e);if("function"==typeof r)return void l((o=r,s=n,function(){o.apply(s,arguments)}),e)}e._state=1,e._value=n,c(e)}catch(t){a(e,t)}var o,s}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(r){if(n)return;n=!0,a(t,r)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new u(e,t,n)),n},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){o(e,t)},n)}r[e]=s,0==--i&&t(r)}catch(c){n(c)}}for(var s=0;s<r.length;s++)o(s,r[s])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},pe=i}).call(this)}).call(this,n({}).setImmediate);var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.mountTo=void 0,self.Promise||(self.Promise=pe);const ye=self.Promise;me.mountTo=function(e){e.promises=ye},me.default=ye;var be={};Object.defineProperty(be,"__esModule",{value:!0});const ve={dom:R,animations:H,http:$,promises:me};window&&(window.markup=ve),be.default=ve}();